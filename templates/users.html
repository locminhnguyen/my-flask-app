<!DOCTYPE html>
<html>
<head>
        <title>Danh sách User</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

</head>
    <body class = "p-4">

<h2>Danh sách User</h2>
        <a href = "/add" class = " btn btn-primary mb-3">Thêm user mới</a>

{% with messages = get_flashed_messages() %}
    {% if messages %}
        <div class = "alert alert-success">
            {% for msg in messages %}
            <p>{{ msg }}</p>
            {% endfor %}
        </div>
    {% endif %}
{% endwith %}

        <table class = "table table-bordered table-striped">
            <thead class = "table-dark">
            <tr>
                <th>ID</th>
                <th>Tên</th>
                <th>Hành động</th>
            </tr>
            </thead>
            <tbody>
            {% for u in users %}
            <tr>
                <td>{{  u.id }}</td>
                <td>{{  u.name }}</td>
                <td>
                    <a href="/edit/{{ u.id }}" class="btn btn-sm btn-warning">Sửa</a> |
                    <a href = "/delete_user/{{ u.id }}" class = "btn btn-sm btn-danger" onclick = "return confirm('Xóa user này?')">Xóa</a>
                </td>
            </tr>
            {% endfor %}
            </tbody>
        </table>
        <script>
            const alerts = document.querySelectorAll('.alert');
    
                setTimeout(() => {
                alerts.forEach(alert => {
                alert.style.display = 'none';
                });
            }, 3000); 
        </script>
    </body>
</html>